using FluentAssertions;
using Xunit;

namespace SvgPathProperties.UnitTests
{
    public class GetBBoxTests
    {
        [Theory]
        [InlineData("M5 3z", 5, 3, 5, 3)]
        [InlineData("M-5 -3z", -5, -3, -5, -3)]
        [InlineData("M5 3l5 0z", 5, 3, 10, 3)]
        [InlineData("M-5 -3l10 0z", -5, -3, 5, -3)]
        [InlineData("M5 1L6 2z", 5, 1, 6, 2)]
        [InlineData("M-5 -1L3 2", -5, -1, 3, 2)]
        [InlineData("M5 3m5 0z", 5, 3, 10, 3)]
        [InlineData("M-5 -3m10 0z", -5, -3, 5, -3)]
        [InlineData("M5 3M10 8z", 5, 3, 10, 8)]
        [InlineData("M-5 -3M-10 -8z", -10, -8, -5, -3)]
        [InlineData("M1 5v3z", 1, 5, 1, 8)]
        [InlineData("M-5 -5v3z", -5, -5, -5, -2)]
        [InlineData("M1 1V5z", 1, 1, 1, 5)]
        [InlineData("M-1 -1V-5z", -1, -5, -1, -1)]
        [InlineData("M1 5h3z", 1, 5, 4, 5)]
        [InlineData("M-1 -5h-3z", -4, -5, -1, -5)]
        [InlineData("M1 5H3z", 1, 5, 3, 5)]
        [InlineData("M-1 -5H-2z", -2, -5, -1, -5)]
        [InlineData(
            "M 20.7 15.404 l -1.894 -4.967 h 1.411 l 1.39 3.582 l 1.379 -3.582 h 0.96 l -1.92 4.967 z M 16.298 9.6 V 8.48 h 1.34 V 9.6 z m 0 5.808 v -4.971 h 1.34 v 4.967 z m -6.965 -0.003 l 2.146 -3.3 L 9.43 8.707 h 1.627 l 1.364 2.254 L 13.9 8.707 h 1.12 l -2.046 3.156 l 2.126 3.537 h -1.622 l -1.45 -2.4 l -1.557 2.4 H 9.333 z m -3.346 0 v -4.968 h 1.338 v 0.937 c 0.344 -0.7 0.875 -1.051 1.585 -1.051 a 1.401 1.401 0 0 1 0.248 0.026 v 1.194 a 1.6 1.6 0 0 0 -0.53 -0.102 c -0.537 0 -0.968 0.267 -1.303 0.8 v 3.164 z m -3.028 -0.536 q -0.664 0.65 -1.437 0.65 a 1.473 1.473 0 0 1 -1.06 -0.398 a 1.376 1.376 0 0 1 -0.406 -1.03 a 1.45 1.45 0 0 1 0.659 -1.271 q 0.657 -0.447 1.884 -0.448 h 0.355 v -0.453 q 0 -0.772 -0.88 -0.772 a 3.305 3.305 0 0 0 -1.587 0.443 v -0.922 a 5.016 5.016 0 0 1 1.808 -0.345 q 1.953 0 1.951 1.55 v 2.206 c 0 0.39 0.123 0.58 0.376 0.58 a 0.8 0.8 0 0 0 0.174 -0.02 l 0.032 0.751 a 2.745 2.745 0 0 1 -0.751 0.13 c -0.552 0 -0.902 -0.216 -1.06 -0.65 h -0.054 z m 0 -0.72 v -1.01 h -0.32 c -0.866 0 -1.297 0.274 -1.297 0.815 a 0.64 0.64 0 0 0 0.64 0.648 c 0.329 0.004 0.647 -0.15 0.977 -0.453 z",
            0.05495008158100078, 8.48, 23.946000000000005, 15.520000000000001)]
        [InlineData(
            "M 15.65 16.105 v -0.24 a 3.543 3.543 0 0 0 -1.267 -2.471 c -0.724 -0.663 -1.69 -0.965 -2.655 -0.904 c -1.87 0.12 -3.378 1.747 -3.378 3.615 c 0 0.784 0.12 1.567 0.422 2.471 H 4.55 V 6.946 l 7.42 -5.123 l 7.482 5.122 v 11.692 h -4.223 c 0.18 -0.663 0.422 -1.688 0.422 -2.532 m 5.068 -10.244 L 12.452 0.136 c -0.301 -0.181 -0.663 -0.181 -0.905 0 L 3.222 5.86 c -0.242 0.12 -0.362 0.361 -0.362 0.663 V 19.48 c 0 0.482 0.362 0.844 0.844 0.844 H 9.92 a 0.824 0.824 0 0 0 0.844 -0.844 c 0 -0.06 0 -0.18 -0.06 -0.24 l -0.06 -0.182 c -0.302 -0.723 -0.664 -1.627 -0.664 -2.53 v -0.182 c -0.06 -0.542 0.12 -1.084 0.482 -1.446 a 2.095 2.095 0 0 1 1.388 -0.723 c 0.543 -0.06 1.026 0.12 1.448 0.482 c 0.422 0.362 0.664 0.844 0.724 1.386 v 0.18 c 0.06 1.206 -0.724 2.954 -0.845 3.135 l -1.146 2.17 l -0.18 -0.362 c -0.122 -0.181 -0.302 -0.362 -0.483 -0.422 c -0.182 -0.06 -0.423 -0.06 -0.604 0.06 c -0.18 0.12 -0.362 0.301 -0.422 0.482 s -0.06 0.422 0.06 0.603 l 0.905 1.687 c 0.121 0.241 0.423 0.422 0.724 0.422 c 0.302 0 0.604 -0.18 0.724 -0.422 l 1.81 -3.375 h 5.732 a 0.824 0.824 0 0 0 0.844 -0.843 V 6.524 c -0.06 -0.302 -0.18 -0.543 -0.422 -0.663",
            2.86, 0.00025000000000001367, 21.1412251544222, 24.000000000000004)]
        [InlineData(
            "M23 1.5q.41 0 .7.3.3.29.3.7v19q0 .41-.3.7-.29.3-.7.3H7q-.41 0-.7-.3-.3-.29-.3-.7V18H1q-.41 0-.7-.3-.3-.29-.3-.7V7q0-.41.3-.7Q.58 6 1 6h5V2.5q0-.41.3-.7.29-.3.7-.3zM6 13.28l1.42 2.66h2.14l-2.38-3.87 2.34-3.8H7.46l-1.3 2.4-.05.08-.04.09-.64-1.28-.66-1.29H2.59l2.27 3.82-2.48 3.85h2.16zM14.25 21v-3H7.5v3zm0-4.5v-3.75H12v3.75zm0-5.25V7.5H12v3.75zm0-5.25V3H7.5v3zm8.25 15v-3h-6.75v3zm0-4.5v-3.75h-6.75v3.75zm0-5.25V7.5h-6.75v3.75zm0-5.25V3h-6.75v3Z",
            5.551115123125783e-17, 1.5, 24, 22.5)]
        [InlineData(
            "M 24 7.875 q 0 0.293 -0.117 0.58 t -0.317 0.486 L 20.496 12 l 3.07 3.059 q 0.2 0.199 0.317 0.486 q 0.117 0.287 0.117 0.58 V 21 q 0 0.316 -0.117 0.586 q -0.117 0.27 -0.322 0.475 q -0.206 0.205 -0.475 0.322 q -0.27 0.117 -0.586 0.117 h -4.875 q -0.293 0 -0.58 -0.117 t -0.486 -0.317 l -3.059 -3.07 l -3.059 3.07 q -0.199 0.2 -0.486 0.317 q -0.287 0.117 -0.58 0.117 H 4.5 q -0.316 0 -0.586 -0.117 q -0.27 -0.117 -0.475 -0.322 q -0.205 -0.206 -0.322 -0.475 Q 3 21.316 3 21 v -3 H 0.996 q -0.41 0 -0.703 -0.293 T 0 17.004 V 6.996 q 0 -0.41 0.293 -0.703 T 0.996 6 H 3 V 3 q 0 -0.316 0.117 -0.586 q 0.117 -0.27 0.322 -0.475 q 0.206 -0.205 0.475 -0.322 q 0.27 -0.117 0.586 -0.117 h 4.875 q 0.293 0 0.58 0.117 t 0.486 0.317 l 3.059 3.07 l 3.059 -3.07 q 0.199 -0.2 0.486 -0.317 q 0.287 -0.117 0.58 -0.117 H 22.5 q 0.316 0 0.586 0.117 q 0.27 0.117 0.475 0.322 q 0.205 0.206 0.322 0.475 Q 24 2.684 24 3 z M 4.5 3 v 3 h 6.504 q 0.41 0 0.703 0.293 t 0.293 0.703 V 5.625 L 9.375 3 z M 3.375 15.938 h 5.25 v -1.583 h -3.41 v -1.593 h 3.047 V 11.18 H 5.215 V 9.656 H 8.46 V 8.062 H 3.375 z m 19.125 0.187 L 19.875 13.5 h -3.691 q -0.247 0 -0.463 0.094 q -0.217 0.094 -0.375 0.252 q -0.159 0.158 -0.252 0.375 q -0.094 0.216 -0.094 0.463 v 3.691 L 17.625 21 H 22.5 z m 0 -8.25 V 3 h -4.875 L 13.5 7.125 v 2.191 q 0 0.774 -0.404 1.424 q -0.405 0.65 -1.096 0.99 v 5.274 q 0 0.41 -0.293 0.703 t -0.703 0.293 H 4.5 v 3 h 4.875 l 4.125 -4.125 v -2.191 q 0 -0.563 0.21 -1.05 q 0.212 -0.486 0.575 -0.849 t 0.85 -0.574 Q 15.62 12 16.184 12 h 2.191 Z",
            0, 1.4999999999999962, 24, 22.5)]
        [InlineData(
            "M 19.453 9.95 q 0.961 0.058 1.787 0.468 q 0.826 0.41 1.442 1.066 q 0.615 0.657 0.966 1.512 q 0.352 0.856 0.352 1.816 q 0 1.008 -0.387 1.893 q -0.386 0.885 -1.049 1.547 q -0.662 0.662 -1.546 1.049 q -0.885 0.387 -1.893 0.387 H 6 q -1.242 0 -2.332 -0.475 q -1.09 -0.475 -1.904 -1.29 q -0.815 -0.814 -1.29 -1.903 Q 0 14.93 0 13.688 q 0 -0.985 0.31 -1.887 q 0.311 -0.903 0.862 -1.658 q 0.55 -0.756 1.324 -1.325 q 0.774 -0.568 1.711 -0.861 q 0.434 -0.129 0.85 -0.187 q 0.416 -0.06 0.861 -0.082 h 0.012 q 0.515 -0.786 1.207 -1.413 q 0.691 -0.627 1.5 -1.066 q 0.808 -0.44 1.705 -0.668 q 0.896 -0.229 1.845 -0.229 q 1.278 0 2.456 0.417 q 1.177 0.416 2.144 1.16 q 0.967 0.744 1.658 1.78 q 0.692 1.038 1.008 2.28 z m -7.265 -4.137 q -1.325 0 -2.52 0.544 q -1.195 0.545 -2.04 1.565 q 0.446 0.117 0.85 0.299 q 0.405 0.181 0.792 0.416 l 4.78 2.86 l 2.731 -1.15 q 0.27 -0.117 0.545 -0.204 q 0.276 -0.088 0.58 -0.147 q -0.293 -0.937 -0.855 -1.705 q -0.563 -0.768 -1.319 -1.318 q -0.755 -0.551 -1.658 -0.856 q -0.902 -0.304 -1.886 -0.304 z M 2.414 16.395 l 9.914 -4.184 l -3.832 -2.297 q -0.586 -0.351 -1.23 -0.539 q -0.645 -0.188 -1.325 -0.188 q -0.914 0 -1.722 0.364 q -0.809 0.363 -1.412 0.978 q -0.604 0.616 -0.955 1.436 q -0.352 0.82 -0.352 1.723 q 0 0.703 0.234 1.423 q 0.235 0.721 0.68 1.284 z m 16.711 1.793 q 0.563 0 1.078 -0.176 q 0.516 -0.176 0.961 -0.516 l -7.23 -4.324 l -10.301 4.336 q 0.527 0.328 1.13 0.504 q 0.604 0.175 1.237 0.175 z m 3.012 -1.852 q 0.363 -0.727 0.363 -1.523 q 0 -0.774 -0.293 -1.407 t -0.791 -1.072 q -0.498 -0.44 -1.166 -0.68 q -0.668 -0.24 -1.406 -0.24 q -0.422 0 -0.838 0.1 t -0.815 0.252 q -0.398 0.152 -0.785 0.334 q -0.386 0.181 -0.761 0.345 Z",
            0, 4.312000000000001, 24, 19.688000000000002)]
        [InlineData(
            "M23 1.5Q23.41 1.5 23.7 1.8 24 2.09 24 2.5V21.5Q24 21.91 23.7 22.2 23.41 22.5 23 22.5H7Q6.59 22.5 6.3 22.2 6 21.91 6 21.5V18H1Q0.59 18 0.3 17.7 0 17.41 0 17V7Q0 6.59 0.3 6.3 0.58 6 1 6H6V2.5Q6 2.09 6.3 1.8 6.59 1.5 7 1.5ZM4.56 11 7.39 15.93H9.18V8.07H7.44V13.1L4.71 8.07H2.82V15.93H4.56ZM22.5 21V18H19.5V21ZM22.5 16.5V13.5H19.5V16.5ZM22.5 12V9H19.5V12ZM22.5 7.5V3H7.5V6H11Q11.41 6 11.7 6.3 12 6.59 12 7V17Q12 17.41 11.7 17.7 11.41 18 11 18H7.5V21H18V7.5Z",
            0, 1.5, 24, 22.5)]
        [InlineData(
            "M7.88 12.04q0 .45-.11.87-.1.41-.33.74-.22.33-.58.52-.37.2-.87.2t-.85-.2q-.35-.21-.57-.55-.22-.33-.33-.75-.1-.42-.1-.86t.1-.87q.1-.43.34-.76.22-.34.59-.54.36-.2.87-.2t.86.2q.35.21.57.55.22.34.31.77.1.43.1.88zM24 12v9.38q0 .46-.33.8-.33.32-.8.32H7.13q-.46 0-.8-.33-.32-.33-.32-.8V18H1q-.41 0-.7-.3-.3-.29-.3-.7V7q0-.41.3-.7Q.58 6 1 6h6.5V2.55q0-.44.3-.75.3-.3.75-.3h12.9q.44 0 .75.3.3.3.3.75V10.85l1.24.72h.01q.1.07.18.18.07.12.07.25zm-6-8.25v3h3v-3zm0 4.5v3h3v-3zm0 4.5v1.83l3.05-1.83zm-5.25-9v3h3.75v-3zm0 4.5v3h3.75v-3zm0 4.5v2.03l2.41 1.5 1.34-.8v-2.73zM9 3.75V6h2l.13.01.12.04v-2.3zM5.98 15.98q.9 0 1.6-.3.7-.32 1.19-.86.48-.55.73-1.28.25-.74.25-1.61 0-.83-.25-1.55-.24-.71-.71-1.24t-1.15-.83q-.68-.3-1.55-.3-.92 0-1.64.3-.71.3-1.2.85-.5.54-.75 1.3-.25.74-.25 1.63 0 .85.26 1.56.26.72.74 1.23.48.52 1.17.81.69.3 1.56.3zM7.5 21h12.39L12 16.08V17q0 .41-.3.7-.29.3-.7.3H7.5zm15-.13v-7.24l-5.9 3.54Z",
            5.551115123125783e-17, 1.499999999999999, 24.000000000000004, 22.500000000000004)]
        [InlineData(
            "M 23.004 1.5 q 0.41 0 0.703 0.293 t 0.293 0.703 v 19.008 q 0 0.41 -0.293 0.703 t -0.703 0.293 H 6.996 q -0.41 0 -0.703 -0.293 T 6 21.504 V 18 H 0.996 q -0.41 0 -0.703 -0.293 T 0 17.004 V 6.996 q 0 -0.41 0.293 -0.703 T 0.996 6 H 6 V 2.496 q 0 -0.41 0.293 -0.703 t 0.703 -0.293 z M 6.035 11.203 l 1.442 4.735 h 1.64 l 1.57 -7.876 H 9.036 l -0.937 4.653 l -1.325 -4.5 H 5.38 l -1.406 4.523 l -0.938 -4.675 H 1.312 l 1.57 7.874 h 1.641 z M 22.5 21 v -3 h -15 v 3 z m 0 -4.5 v -3.75 H 12 v 3.75 z m 0 -5.25 V 7.5 H 12 v 3.75 z m 0 -5.25 V 3 h -15 v 3 Z",
            0, 1.4999999999999996, 24, 22.499999999999996)]
        [InlineData(
            "M23.355 10.444L13.556.645a2.2 2.2 0 0 0-3.112 0L.645 10.444a2.201 2.201 0 0 0 0 3.112l9.799 9.799a2.201 2.201 0 0 0 3.112 0l9.799-9.799a2.2 2.2 0 0 0 0-3.112zm-1.657 2.918l-8.337 8.337a1.922 1.922 0 0 1-1.362.563c-.493 0-.986-.188-1.362-.563L2.3 13.362A1.92 1.92 0 0 1 1.738 12c0-.514.2-.998.564-1.362l8.337-8.337c.363-.363.847-.563 1.361-.563s.998.2 1.362.564l8.337 8.337c.75.75.75 1.972-.001 2.723zM14.195 9.76c.094.173.142.399.142.678s-.047.505-.142.678c-.095.173-.22.306-.376.401a1.485 1.485 0 0 1-.542.191 4.033 4.033 0 0 1-.641.049h-1.504V9.119h1.504c.222 0 .435.017.641.049.205.033.386.097.542.191.156.095.281.228.376.401zm7.062 1.319L12.92 2.742c-.245-.245-.572-.381-.92-.381s-.675.135-.921.381l-8.337 8.337c-.245.246-.381.573-.381.921s.135.675.381.921l8.337 8.337a1.304 1.304 0 0 0 1.842 0l8.337-8.337a1.305 1.305 0 0 0-.001-1.842zm-5.213.4a2.437 2.437 0 0 1-.53.906 2.624 2.624 0 0 1-.943.635c-.386.16-.855.24-1.405.24h-2.034v3.155H9.197v-8.8h3.969c.55 0 1.019.08 1.405.24.386.16.7.372.943.635.242.263.419.563.53.9.111.337.166.686.166 1.048 0 .353-.055.7-.166 1.041z",
            0.0006839756353888008, 0.0002697515222243041, 23.99973024847777, 23.99931602436461)]
        [InlineData(
            "M12.178.002a12.002 12.002 0 0 0-8.662 3.515 12.002 12.002 0 0 0 0 16.97 12.002 12.002 0 0 0 16.97 0 12.002 12.002 0 0 0 0-16.97A12.002 12.002 0 0 0 12.179.002zM7.77 5.995c.562.128 1.05.217 1.663.217.921 0 1.863-.217 2.786-.217 1.79 0 3.45.814 3.45 2.8 0 1.54-.921 2.517-2.35 2.93l2.788 4.107h1.301v1.01h-1.986l-3.293-4.934h-1.757v3.924h1.718v1.01H7.77v-1.01h1.483V7.134L7.77 6.951v-.957zm4.466 1.012c-.596 0-1.213.053-1.864.127v3.798l.941.02c2.298.034 3.183-.85 3.183-2.026 0-1.376-.997-1.919-2.26-1.919z",
            0.0023908369018924135, 0.0007318976900466977, 23.999609163098103, 24.000609163098108)]
        [InlineData(
            "M23.179.818C15.533-.273 8.406-.273.8.818-.266 8.377-.266 15.424.8 22.946 4.511 23.491 8.22 24 12.005 24c3.748 0 7.459-.51 11.17-1.017 1.1-7.56 1.1-14.607 0-22.165h.004zm-11.54 18.314c-2.055 0-4.226-.689-5.179-1.199l.807-3.126c1.064.705 2.682 1.395 4.446 1.395 1.395 0 2.24-.436 2.24-1.305 0-.615-.435-.975-1.575-1.26l-2.279-.631c-2.416-.66-3.557-1.891-3.557-3.855 0-2.365 1.83-4.256 5.619-4.256 1.99 0 3.973.545 5.07 1.092l-.951 2.976c-1.104-.615-2.79-1.125-4.226-1.125-1.365 0-1.95.436-1.95 1.092 0 .619.404.87 1.291 1.092l2.488.734c2.566.736 3.707 1.966 3.707 3.885-.076 2.701-2.461 4.517-5.957 4.517l.006-.026z",
            0.0005000000000000053, -0.0002500000000000062, 23.999999999999993, 24)]
        [InlineData(
            "M22.655 8.719c-1.802-1.801-4.726-1.801-6.564 0l-7.351 7.35c-.45.45-.45 1.2 0 1.65.45.449 1.2.449 1.65 0l7.351-7.351c.899-.899 2.362-.899 3.264 0 .9.9.9 2.364 0 3.264l-7.239 7.239c.9.899 2.362.899 3.263 0l5.589-5.589c1.836-1.838 1.836-4.763.037-6.563zm-2.475 2.437c-.451-.45-1.201-.45-1.65 0l-7.354 7.389c-.9.899-2.361.899-3.262 0-.45-.45-1.2-.45-1.65 0s-.45 1.2 0 1.649c1.801 1.801 4.726 1.801 6.564 0l7.351-7.35c.449-.487.449-1.239.001-1.688zm-2.439-7.35c-1.801-1.801-4.726-1.801-6.564 0l-7.351 7.351c-.45.449-.45 1.199 0 1.649s1.2.45 1.65 0l7.395-7.351c.9-.899 2.371-.899 3.27 0 .451.45 1.201.45 1.65 0 .421-.487.421-1.199-.029-1.649h-.021zm-2.475 2.437c-.45-.45-1.2-.45-1.65 0l-7.351 7.389c-.899.9-2.363.9-3.265 0-.9-.899-.9-2.363 0-3.264l7.239-7.239c-.9-.9-2.362-.9-3.263 0L1.35 8.719c-1.8 1.8-1.8 4.725 0 6.563 1.801 1.801 4.725 1.801 6.564 0l7.35-7.351c.451-.488.451-1.238 0-1.688h.002z",
            4.1119371282413197e-17, 2.4539999999999984, 23.999660308381387, 21.54525)]
        [InlineData(
            "M21.272,14.815h-0.098c-0.747,2.049-2.335,3.681-4.363,4.483v-4.483l2.444-2.182l-2.444-2.182V7.397 c2.138,0.006,3.885-1.703,3.927-3.84c0-2.629-2.509-3.556-3.927-3.556c-0.367-0.007-0.734,0.033-1.091,0.12v0.131h0.556 c0.801-0.141,1.565,0.394,1.706,1.195C17.99,1.491,17.996,1.537,18,1.583c-0.033,0.789-0.7,1.401-1.488,1.367 c-0.02-0.001-0.041-0.002-0.061-0.004c-2.444,0-5.323-1.985-8.454-1.985C5.547,0.83,3.448,2.692,3.284,5.139 C3.208,6.671,4.258,8.031,5.76,8.346v-0.12C5.301,7.931,5.041,7.407,5.084,6.862c0.074-1.015,0.957-1.779,1.973-1.705 C7.068,5.159,7.08,5.16,7.091,5.161c2.629,0,6.872,2.182,9.501,2.182h0.098v3.142l-2.444,2.182l2.444,2.182v4.549 c-0.978,0.322-2.003,0.481-3.033,0.469c-1.673,0.084-3.318-0.456-4.614-1.516l4.429-1.985V7.451l-6.196,2.727 c0.592-1.75,1.895-3.168,3.589-3.905V6.175c-4.516,1.004-8.138,4.243-8.138,8.705c0,5.193,4.025,9.12,9.818,9.12 c6.011,0,8.727-4.363,8.727-8.814V14.815z M8.858,18.186c-1.363-1.362-2.091-3.235-2.007-5.16c-0.016-0.88,0.109-1.756,0.371-2.596 l2.051-0.938v8.476L8.858,18.186z",
            2.727, 0.00021808510638331264, 21.272, 24)]
        [InlineData(
            "M20.537 4.118c-.806-.453-2.092.278-2.871 1.635L16.25 8.215a3.104 3.104 0 0 0 .21 3.18l.041.062c.653.94 1.535 1.808 1.823 2.118a1.613 1.613 0 0 1-.739 2.654 1.603 1.603 0 0 1-2.025-1.747c.045-.35-.067-.927-.574-1.489-.506-.563-1.54.5-1.874 1.61l-.016.061c-.334 1.094-.546 2.05-.482 2.143.037.06.072.12.105.182a1.81 1.81 0 0 1-3.196 1.701 1.806 1.806 0 0 1 .747-2.446l.121-.061c.065-.03.26-.486.423-1.032l.301-.987c.019-.047.033-.107.045-.168l.897-3.19-.957 1.96c-.112-.363-.3-.38-.709-.091-.243.183-.653.531-.85.669-.365.273-.685.788-.851 1.109a1.313 1.313 0 0 1-.41.5c-.684.564-1.687.456-2.234-.227a1.591 1.591 0 0 1 .912-2.552c.409-.092 1.777-.927 2.596-1.52.152-.106.274-.197.38-.304l2.203-1.67-1.914 1.032s-.196-.016-.426.017c-.698.075-1.428.182-1.564.35a.999.999 0 0 1-.29.272c-.637.456-1.519.32-1.989-.317A1.437 1.437 0 0 1 6.29 8.04c.259-.183.577-.274.865-.274.518.016 1.87.29 2.993.092l.288-.045c1.14-.196 2.476-1.186 3.024-2.187l1.184-2.067c.653-1.139.608-2.384-.105-2.795l-1.323-.76c-.653-.363-1.715-.363-2.354 0L2.004 4.97C1.337 5.319.805 6.23.805 6.975v9.744c0 .744.532 1.656 1.178 2.02l8.85 4.983c.652.365 1.716.365 2.354 0l8.826-4.983c.653-.368 1.184-1.276 1.184-2.02v-9.76c0-.744-.531-1.653-1.169-2.02l-1.46-.823",
            0.805, -0.26825000000000065, 23.197000000000003, 23.99575000000006)]
        [InlineData(
            "M 21.1456 21.1456 C 21.1456 21.1456 21.1456 21.1456 200.0000 0.0000 200.0000 0.0000 200.0000 0.0000 221.1456 221.1456 221.1456 221.1456 221.1456 221.1456 21.1456 221.1456 21.1456 221.1456 21.1456 221.1456 21.1456 21.1456",
            21.1456, 0, 221.1456, 221.1456)]
        [InlineData(
            "M436.79 417.31C435.89 415.01 438.59 410.91 439.69 409.31C439.89 408.91 439.69 408.41 439.39 408.31C438.09 407.41 435.19 404.71 435.09 401.61C434.99 399.71 437.39 396.41 438.49 394.91C439.19 393.71 437.69 393.11 437.09 392.31C435.69 390.81 433.99 388.31 434.09 385.71C434.19 382.71 436.69 379.51 440.79 377.01C440.89 376.91 440.99 376.71 440.89 376.61C439.79 374.91 439.29 374.01 439.19 371.41C438.99 367.91 440.79 364.81 444.19 362.41C446.59 360.81 449.89 359.81 452.79 359.21C452.79 359.01 452.79 349.41 452.79 348.21V348.01V340.21C452.79 340.01 452.69 339.91 452.49 339.91L209.89 340.21C209.69 340.21 209.59 340.31 209.59 340.51L209.69 896.1H452.49C452.69 896.1 452.79 896 452.79 895.8V420.31C449.79 421.41 446.59 422.11 444.19 422.11C440.79 422.01 437.69 419.51 436.79 417.31Z",
            209.59000000000003, 339.90999999999764, 452.7900000000486, 896.1)]
        [InlineData(
            "M7.67 1.56c.282-.134.542-.338.81-.513.253-.163.54-.436.894-.33.103.296-.162.503-.331.662-.538.511-1.154.975-1.72 1.456A240.349 240.349 0 0 1 1.5 7.598a7.406 7.406 0 0 1-.612.445c-.183.118-.456.359-.71.165.071-.337.306-.567.512-.778.213-.216.414-.446.629-.66-.248-.427-.473-.821-.662-1.274-.186-.449-.378-.971-.38-1.554-.002-1.109.635-2.043 1.34-2.68C2.34.61 3.306.066 4.429.006 6.015-.078 6.933.71 7.67 1.56zm5.012 18.075v.198c-.278.01-.532-.01-.795-.016v-.198c.277-.008.535.006.795.016zm-1.59 0v.198c-.282-.012-.52.021-.792.018v-.198a9.53 9.53 0 0 1 .793-.018zm3.177.05c-.007.067.013.158-.017.199-.251-.02-.518-.024-.778-.033v-.198c.275.003.542.009.795.032zm-4.763 0v.199c-.274.002-.512.039-.795.032v-.197c.28.001.516-.036.795-.034zm5.555.034c.255.033.544.029.793.064.013.084-.014.129-.015.2-.255-.033-.544-.03-.794-.067a.703.703 0 0 0 .016-.197zm-7.142.065v.2c-.26.02-.517.046-.778.065-.022-.05-.018-.126-.017-.198.265-.024.521-.053.795-.067zm8.73.067c.269.023.537.048.793.082-.02.058-.004.148-.032.199-.25-.036-.518-.053-.778-.083-.01-.083.017-.128.017-.198zm-10.319.082c-.006.08.03.113.017.199-.259.022-.568.082-.793.082.012-.077-.02-.114-.018-.182.252-.045.529-.066.794-.099zm12.684.199c.012.084-.027.114-.017.196-.256-.044-.54-.063-.794-.114.01-.058.025-.109.017-.182.228.008.545.062.795.1zm-14.288 0c.06.022.033.133.05.196-.259.04-.517.08-.777.117a.68.68 0 0 1-.034-.197c.253-.038.515-.072.761-.116zm15.86.233a.628.628 0 0 1-.034.213c-.247-.055-.52-.083-.777-.132a.702.702 0 0 1 .034-.197c.263.032.503.09.776.116zm-17.414.016c.02.057.036.116.034.196-.263.04-.503.105-.778.133-.004-.073-.034-.12-.033-.197.275-.028.515-.092.777-.132zm18.208.132c.255.052.508.109.778.148-.004.072-.034.119-.034.197-.28-.021-.495-.11-.778-.133-.018-.041.016-.15.034-.212zM22.669 16.726c.156.092.47.098.595.246.099.115.144.486.182.744.203 1.296.287 2.808.332 4.219.008.266.016.583.016.891 0 .298.06.704 0 .91-.041.147-.24.194-.363.264a56.558 56.558 0 0 0-.065-2.843c-.124-.101-.444-.047-.464-.166-.044-.252.267-.09.447-.065-.045-1.272-.177-2.46-.33-3.623-.147-.074-.336-.105-.498-.164-.252.259-.636.939-1.223.81-.22-.047-.363-.342-.464-.545a3.243 3.243 0 0 1-.265-.744c-4.88-.936-11.589-1.016-16.502-.05-.153.655-.43 2.053-1.34 1.52a2.014 2.014 0 0 1-.81-.991 8.31 8.31 0 0 1-.547.133c-.192 1.084-.288 2.268-.346 3.489.166.01.416-.122.595-.1.004.066.028.114.033.18-.166.106-.437.105-.645.166a45.286 45.286 0 0 0-.066 2.976c-.08.022-.273-.122-.347-.213.064-2.301.179-4.553.363-6.732.28-.087.568-.17.844-.264-.04-.383-.117-.827.05-1.09.14-.224.531-.352.81-.432.99-.28 1.979-.05 2.63.413.14.102.247.239.396.299.025-.09-.094-.15-.149-.199-.567-.511-1.498-.958-2.612-.761-.348-1.09-.79-2.142-.794-3.538-.005-1.553.562-2.899 1.205-3.953.66-1.078 1.541-1.954 2.498-2.645a11.504 11.504 0 0 1 8.087-2.051c3.01.369 5.008 1.79 6.45 3.853.69.99 1.248 2.174 1.62 3.524.374 1.352.378 3.098-.05 4.53-1.383-.283-2.637.15-3.125 1.026-.004.015-.016.017-.016.033.498-.678 1.736-1.168 2.976-.86.328.082.746.2.908.43.224.317.122.989-.016 1.373zM16.22 9.382c.055.383.227.783.445.944.376.27.602.001.63-.38.035-.504-.174-1.1-.431-1.324-.105-.09-.299-.145-.412-.115-.256.065-.283.528-.232.875zm-8.649 1.092c-.033.556.16 1.277.529 1.472.43.227.633-.095.661-.495.045-.626-.273-1.714-.86-1.605-.25.047-.313.339-.33.628zm6.83 2.579c-.266.06-.633-.058-.926-.117a22.333 22.333 0 0 0-.91-.164c-.567-.088-1.344-.211-1.9.1-.198.11-.444.351-.465.662-.027.46.342.791.612.993.323.237.663.399 1.092.527.917.278 2.293.353 3.075.017.735-.316 1.706-1.062 1.72-2.05.01-.59-.272-1.119-.859-1.042-.65.085-.882.951-1.44 1.074z",
            0.17800000000000005, -0.00016249501660449533, 23.82066666666666, 24)]
        public void GetBBox_ShouldReturnCorrectBoundaryBox(string path, double minX, double minY, double maxX,
            double maxY)
        {
            var svgPath = new SVGPathProperties(path, unarc: true);
            var (topLeft, bottomRight) = svgPath.GetBBox();

            topLeft.X.Should().BeApproximately(minX, precision: 0.00000000001);
            topLeft.Y.Should().BeApproximately(minY, precision: 0.00000000001);
            bottomRight.X.Should().BeApproximately(maxX, precision: 0.00000000001);
            bottomRight.Y.Should().BeApproximately(maxY, precision: 0.00000000001);
        }
    }
}